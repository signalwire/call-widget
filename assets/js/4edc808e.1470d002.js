"use strict";(self.webpackChunkdoc_for_c_2_c_widget=self.webpackChunkdoc_for_c_2_c_widget||[]).push([[308],{3428:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/screenshot-695d461ee19699fdea8a94fbb709a9c1.png"},4241:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>g,contentTitle:()=>j,default:()=>b,frontMatter:()=>x,metadata:()=>p,toc:()=>m});var t=i(4848),l=i(8453);function s(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"signalwire-call-widget",children:"SignalWire Call Widget"}),"\n",(0,t.jsx)(n.p,{children:"The Call Widget is a Click-to-Call style JavaScript widget which uses the SignalWire SDK and the SignalWire\nC2C service to allow you to embed calls in your website."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"screenshot of the widget",src:i(3428).A+"",width:"2936",height:"1744"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ud83c\udf1f New V3 Beta Available!"}),(0,t.jsx)(n.br,{}),"\n","We've released a new version (V3) of the Call Widget with a completely revamped API, better UI, and support for incoming calls.\n",(0,t.jsx)(n.a,{href:"#signalwire-call-widget-v3",children:"Skip to V3 Documentation"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"v2-documentation",children:"V2 Documentation"}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(n.p,{children:"Import the widget from the CDN:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<script src="https://cdn.jsdelivr.net/npm/@niravcodes/call-widget/dist/c2c-widget-full.umd.min.js"><\/script>\n'})}),"\n",(0,t.jsx)(n.p,{children:"or install the widget using npm:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install @niravcodes/call-widget\n"})}),"\n",(0,t.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<style>\n  /* This class will be removed from button when the widget fully loads. */\n  .demo-button-disabled {\n    opacity: 0.7;\n    pointer-events: none;\n  }\n</style>\n\n\x3c!-- Button that triggers the call, wherever in the html --\x3e\n<button id="callButton" class="demo-button-disabled">Call</button>\n\n\x3c!-- end of body --\x3e\n<c2c-widget\n  buttonId="callButton"\n  token="<c2c_token or embeds_token>"\n  callDetails=\'{"destination":"/private/demo-1","supportsVideo":false,"supportsAudio":true}\'\n  collectUserDetails="false"\n  survey=\'{"title":"Please take this survey", "description":"We would love to hear your thoughts. Would you like to take a survey?","href":"https://www.google.com"}\'\n  userVariables=\'{"user_type":"guest"}\'\n></c2c-widget>\n\n<script src="https://cdn.jsdelivr.net/npm/@niravcodes/call-widget/dist/c2c-widget-full.umd.min.js"><\/script>\n'})}),"\n",(0,t.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#buttonid",children:"buttonId"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"ID for Button that triggers call"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#token",children:"token"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"Authentication token (c2c or embeds)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#calldetails",children:"callDetails"})}),(0,t.jsx)(n.td,{children:"object"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"Call configuration JSON"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#collectuserdetails",children:"collectUserDetails"})}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"true"}),(0,t.jsx)(n.td,{children:"Show user details form boolean"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#survey",children:"survey"})}),(0,t.jsx)(n.td,{children:"object"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"not shown"}),(0,t.jsx)(n.td,{children:"Post-call survey config JSON"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#uservariables",children:"userVariables"})}),(0,t.jsx)(n.td,{children:"object"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{}),(0,t.jsxs)(n.td,{children:["Custom call variables JSON (arbitrary JSON key",":value"," pairs)"]})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"buttonid",children:(0,t.jsx)(n.code,{children:"buttonId"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"buttonId"})," attribute is used to specify the ID of the HTML button element that will trigger the call."]}),"\n",(0,t.jsxs)(n.p,{children:["If the button is not found, the widget will ",(0,t.jsx)(n.strong,{children:"wait"})," for the button to be created. (The button doesn't have to exist in the DOM at the time of widget initialization.)"]}),"\n",(0,t.jsxs)(n.p,{children:["You can use the class ",(0,t.jsx)(n.code,{children:".demo-button-disabled"})," to disable the button while the widget is loading. The widget will remove that particular\nclass once it loads."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"<style>\n  /* This class will be removed from button when the widget loads.\n   */\n  .demo-button-disabled {\n    opacity: 0.7;\n    pointer-events: none;\n  }\n</style>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"token",children:(0,t.jsx)(n.code,{children:"token"})}),"\n",(0,t.jsx)(n.p,{children:"Authentication token for SignalWire services (either the c2c token from the dashboard, or the embed token)."}),"\n",(0,t.jsxs)(n.p,{children:["Using C2C token is getting recommended for most cases. You can get the C2C token from the SignalWire Space dashboard.\nYou can get the embed token using the ",(0,t.jsx)(n.a,{href:"https://developer.signalwire.com/rest/signalwire-rest/endpoints/fabric/embeds-tokens",children:"Embeds Token"})," API."]}),"\n",(0,t.jsx)(n.p,{children:"You can also use any token received from the Call Fabric authentication, assuming it has the necessary permissions to the address."}),"\n",(0,t.jsx)(n.h3,{id:"calldetails",children:(0,t.jsx)(n.code,{children:"callDetails"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"callDetails"})," object is used to configure the call including destination and media support:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"destination"}),": string - Call destination"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"supportsVideo"}),": boolean - Enable/disable video"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"supportsAudio"}),": boolean - Enable/disable audio"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Strict JSON format is required for this attribute."}),"\n",(0,t.jsx)(n.h3,{id:"collectuserdetails",children:(0,t.jsx)(n.code,{children:"collectUserDetails"})}),"\n",(0,t.jsx)(n.p,{children:"Whether to show a form collecting user details before starting call."}),"\n",(0,t.jsx)(n.h3,{id:"survey",children:(0,t.jsx)(n.code,{children:"survey"})}),"\n",(0,t.jsx)(n.p,{children:"The survey object is used to configure the post-call survey:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"title"}),': string - Survey modal title (optional, defaults to "Would you like to take a survey?")']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"description"}),': string - Survey description text (optional, defaults to "We would love to hear your thoughts. Would you like to take a survey? It only takes 2 minutes.")']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"href"}),": string - URL to survey (required)"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Don't set this attribute if you don't want a survey to be shown."}),"\n",(0,t.jsx)(n.p,{children:"Strict JSON format is required for this attribute."}),"\n",(0,t.jsx)(n.h3,{id:"uservariables",children:(0,t.jsx)(n.code,{children:"userVariables"})}),"\n",(0,t.jsxs)(n.p,{children:["Custom variables to attach to the call session. Can be any JSON key",":value"," pair. The following will be overridden by the widget, however:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"callOriginHref - the URL of the page where the widget is hosted\nuserName - the name of the user (if they input it in the form)\nuserEmail - the email of the user (if they input it in the form)\nuserPhone - the phone number of the user (if they input it in the form)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Strict JSON format is required for this attribute."}),"\n",(0,t.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,t.jsx)(n.h3,{id:"beforecall",children:(0,t.jsx)(n.code,{children:"beforecall"})}),"\n",(0,t.jsx)(n.p,{children:"This event is triggered when the call is about to start."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'const widget = document.querySelector("c2c-widget");\nwidget.addEventListener("beforecall", () => {\n  console.log("beforecall");\n});\n'})}),"\n",(0,t.jsx)(n.h1,{id:"signalwire-call-widget-v3-beta",children:"SignalWire Call Widget V3 (Beta)"}),"\n",(0,t.jsx)(n.p,{children:"A completely revamped version of the Call Widget with a modern API, enhanced UI, and support for incoming calls. V3 offers a more streamlined integration experience and additional features not available in V2."}),"\n",(0,t.jsx)(n.p,{children:"Key improvements over V2:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Simpler, more intuitive HTML attribute-based configuration"}),"\n",(0,t.jsx)(n.li,{children:"Built-in support for incoming calls"}),"\n",(0,t.jsx)(n.li,{children:"Enhanced UI with multiple window modes"}),"\n",(0,t.jsx)(n.li,{children:"Better debugging options"}),"\n",(0,t.jsx)(n.li,{children:"More flexible audio codec configuration"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"installation-1",children:"Installation"}),"\n",(0,t.jsx)(n.h3,{id:"npm",children:"NPM"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install @niravcodes/call-widget@next\n"})}),"\n",(0,t.jsx)(n.h3,{id:"cdn-jsdelivr",children:"CDN (jsDelivr)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<script src="https://cdn.jsdelivr.net/npm/@niravcodes/call-widget@next/dist/call-widget.min.js"><\/script>\n'})}),"\n",(0,t.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<button id="myCallButton">Start Call</button>\n\n<call-widget\n  button-id="myCallButton"\n  token="your_signalwire_token"\n  destination="/private/demo"\n  support-audio="true"\n  support-video="true"\n></call-widget>\n'})}),"\n",(0,t.jsx)(n.h2,{id:"attributes-reference",children:"Attributes Reference"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Attribute"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"token"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"SignalWire authentication token"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"destination"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"Call destination path"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"button-id"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"ID of the button that triggers the call"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"support-audio"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"false"}),(0,t.jsx)(n.td,{children:"Enable audio support"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"support-video"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"false"}),(0,t.jsx)(n.td,{children:"Enable video support"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"window-mode"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:'"video+transcript"'}),(0,t.jsx)(n.td,{children:"UI mode for the call window"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"log-level"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:'"error"'}),(0,t.jsx)(n.td,{children:"Logging verbosity level"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"host"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"SignalWire server host"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"receive-calls"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"false"}),(0,t.jsx)(n.td,{children:"Enable incoming call reception"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"auto-answer"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"false"}),(0,t.jsx)(n.td,{children:"Automatically answer incoming calls without prompt"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"audio-codec"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"Comma-separated list of preferred audio codecs"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"user-variables"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"Custom variables passed as JSON string"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"debug-ws-traffic"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"false"}),(0,t.jsx)(n.td,{children:"Enable WebSocket traffic debugging"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"detailed-attribute-description",children:"Detailed Attribute Description"}),"\n",(0,t.jsx)(n.h3,{id:"required-attributes",children:"Required Attributes"}),"\n",(0,t.jsx)(n.h4,{id:"token-1",children:(0,t.jsx)(n.code,{children:"token"})}),"\n",(0,t.jsx)(n.p,{children:"Your SignalWire authentication token. This is required for establishing connections."}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<call-widget token="your_signalwire_token"></call-widget>\n'})}),"\n",(0,t.jsx)(n.h4,{id:"destination",children:(0,t.jsx)(n.code,{children:"destination"})}),"\n",(0,t.jsx)(n.p,{children:'The destination path for the call. Usually in the format "/private/room-name".'}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<call-widget destination="/private/demo-room"></call-widget>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"optional-attributes",children:"Optional Attributes"}),"\n",(0,t.jsx)(n.h4,{id:"window-mode",children:(0,t.jsx)(n.code,{children:"window-mode"})}),"\n",(0,t.jsx)(n.p,{children:"Controls the layout and features of the call window. Available options:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"video+transcript"}),": Video call with transcript"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"video"}),": Video-only interface"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"audio+transcript"}),": Audio call with transcript"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<call-widget window-mode="video+transcript"></call-widget>\n'})}),"\n",(0,t.jsx)(n.h4,{id:"log-level",children:(0,t.jsx)(n.code,{children:"log-level"})}),"\n",(0,t.jsx)(n.p,{children:"Sets the logging verbosity. Available options:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"debug"}),": Most verbose, includes all logs"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"info"}),": General information and important events"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"warn"}),": Warnings and non-critical issues"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"error"}),": Only error messages (default)"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<call-widget log-level="debug"></call-widget>\n'})}),"\n",(0,t.jsx)(n.h4,{id:"user-variables",children:(0,t.jsx)(n.code,{children:"user-variables"})}),"\n",(0,t.jsx)(n.p,{children:"Custom variables passed as a JSON string. All values must be strings."}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<call-widget\n  user-variables=\'{"customerName": "John", "accountId": "123"}\'\n></call-widget>\n'})}),"\n",(0,t.jsx)(n.h4,{id:"audio-codec",children:(0,t.jsx)(n.code,{children:"audio-codec"})}),"\n",(0,t.jsx)(n.p,{children:"Comma-separated list of preferred audio codecs."}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<call-widget audio-codec="opus,PCMU"></call-widget>\n'})}),"\n",(0,t.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,t.jsx)(n.h3,{id:"basic-audio-only-call-widget",children:"Basic Audio-Only Call Widget"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<button id="audioCall">Start Audio Call</button>\n\n<call-widget\n  button-id="audioCall"\n  token="your_token"\n  destination="/private/audio-room"\n  support-audio="true"\n  support-video="false"\n  window-mode="audio+transcript"\n></call-widget>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"video-call-with-transcription",children:"Video Call with Transcription"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<button id="videoCall">Start Video Call</button>\n\n<call-widget\n  button-id="videoCall"\n  token="your_token"\n  destination="/private/video-room"\n  support-audio="true"\n  support-video="true"\n  window-mode="video+transcript"\n  log-level="info"\n></call-widget>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"call-center-agent-setup",children:"Call Center Agent Setup"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<button id="agentConsole">Open Agent Console</button>\n\n<call-widget\n  button-id="agentConsole"\n  token="your_token"\n  destination="/private/agent-room"\n  support-audio="true"\n  support-video="true"\n  receive-calls="true"\n  auto-answer="false"\n  window-mode="video+transcript"\n  user-variables=\'{"agentId": "agent123", "department": "support"}\'\n></call-widget>\n'})}),"\n",(0,t.jsx)(n.h2,{id:"notes-and-best-practices",children:"Notes and best practices"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Token Security"}),": Never hardcode your SignalWire token in the HTML. Instead, fetch it dynamically from your server.\nHowever, you're free to use click2call tokens (",(0,t.jsx)(n.code,{children:"c2c_..."}),") statically in HTML."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Button Placement"}),": The trigger button can be styled and positioned anywhere in your layout. Just ensure the ",(0,t.jsx)(n.code,{children:"button-id"})," matches."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"window-mode vs support-audio and support-video"}),":"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"window-mode"})," controls the layout UI of the widget. This is purely cosmetic."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"support-audio"})," and ",(0,t.jsx)(n.code,{children:"support-video"})," controls the features of the widget. This decides if webcam and/or microphone is used."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"handling-incoming-calls",children:"Handling Incoming Calls"}),"\n",(0,t.jsx)(n.p,{children:"V3 introduces robust support for incoming calls, making it suitable for call center and customer service applications."}),"\n",(0,t.jsx)(n.h3,{id:"setting-up-incoming-calls",children:"Setting Up Incoming Calls"}),"\n",(0,t.jsxs)(n.p,{children:["To enable incoming calls, set the ",(0,t.jsx)(n.code,{children:"receive-calls"}),' attribute to "true". You can also configure automatic answer behavior using ',(0,t.jsx)(n.code,{children:"auto-answer"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<call-widget\n  button-id="agentConsole"\n  token="your_token"\n  destination="/private/agent-room"\n  receive-calls="true"\n  auto-answer="false"\n  window-mode="video+transcript"\n></call-widget>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"incoming-call-behavior",children:"Incoming Call Behavior"}),"\n",(0,t.jsxs)(n.p,{children:["When ",(0,t.jsx)(n.code,{children:"receive-calls"})," is enabled:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"The widget listens for incoming calls to the specified destination"}),"\n",(0,t.jsxs)(n.li,{children:["When a call arrives:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If ",(0,t.jsx)(n.code,{children:'auto-answer="true"'}),": The call is automatically answered"]}),"\n",(0,t.jsxs)(n.li,{children:["If ",(0,t.jsx)(n.code,{children:'auto-answer="false"'}),": A notification appears allowing the user to accept or decline"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["The call window opens in the specified ",(0,t.jsx)(n.code,{children:"window-mode"})," once the call is accepted"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"best-practices-for-incoming-calls",children:"Best Practices for Incoming Calls"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"User Experience"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.code,{children:'auto-answer="false"'})," for agent interfaces where call screening is needed"]}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.code,{children:'auto-answer="true"'})," for automated services or IVR systems"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Window Mode"}),": For agent interfaces, ",(0,t.jsx)(n.code,{children:"video+transcript"})," mode provides the most comprehensive call handling experience"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Audio/Video Support"}),": Configure ",(0,t.jsx)(n.code,{children:"support-audio"})," and ",(0,t.jsx)(n.code,{children:"support-video"})," based on your use case:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<call-widget\n  receive-calls="true"\n  support-audio="true"\n  support-video="true"\n  window-mode="video+transcript"\n></call-widget>\n'})}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}var r=i(6540),o=i(2303);function c(e){let{children:n,fallback:i}=e;return(0,o.A)()?(0,t.jsx)(t.Fragment,{children:n?.()}):i??null}function a(e){let{buttonId:n,destination:l,supportsVideo:s,supportsAudio:d,token:o}=e;const a=(0,r.useRef)(null);return(0,r.useEffect)((()=>{i.e(4219).then(i.bind(i,4219))}),[]),(0,r.useEffect)((()=>{if(a.current){a.current.innerHTML="";const e=document.createElement("c2c-widget");e.setAttribute("buttonId",n),e.setAttribute("callDetails",JSON.stringify({destination:l,supportsVideo:s,supportsAudio:d})),e.setAttribute("token",o),a.current.appendChild(e)}return()=>{a.current&&(a.current.innerHTML="")}}),[n,l,s,d,o]),(0,t.jsx)(c,{children:()=>(0,t.jsx)("div",{ref:a})})}function h(e){let{destination:n,supportsVideo:i,supportsAudio:l,token:s,children:d}=e;const h=(0,o.A)(),[u,x]=(0,r.useState)(Math.random().toString(36).substring(2,15));return h?(0,t.jsx)(c,{children:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{id:`callButton-${u}`,className:"button button--primary button--lg",style:{margin:"10px 0px"},children:d}),(0,t.jsx)(a,{buttonId:`callButton-${u}`,destination:n,supportsVideo:i,supportsAudio:l,token:s})]})}):null}const u="eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIiwiY2giOiJwdWMuc2lnbmFsd2lyZS5jb20iLCJ0eXAiOiJTQVQifQ..QYHghlPEOE4HjtJb.1WKLEg09c05-g3RujrS0io5h6AJ4mfpKMWtykpMIERJlMuomtOLHrU8picaFHeppbb_-593GjxHfeZiVmYdPZiIPYuNw2znqBuySuPArPfb2NMvXtZHEgfl3sXAdy5xpqSpphxFKStXwylo0EGeC91cVQgn3_lmSBcp13JvwArnu5ULltGmjPJogRbE1PrBsBbEJJioumVSZuuMH5lo7am-wE37Q5GXgou1a9iJWBiBtgk5ysmW4HTvbZ7pZHL5VcnWVy4V0OJL3J4WXl-m47L6bgFmHUijvVWxoFDu4Z7aUfx551OEhefr04F5NuJaHzTWUpgNzQ_VgWho04K96MK--wH_dEyIxtbfUHJSZyk1-Ef_dDCgFK6Rlnl2H5HM4G05gEKWcSjXGGk4tN0g6YvHsrUrAgsZiQeVQ-ggCHHRcmYX1OeXYbv1vEPml8i5JPUHAak5VvOQLYoG2ydb5kVv3WdM0oWKGHzTFPLFmjTaRxSC2b378BGbR7hCxbY9NdaLFnSn45KDkv1_a-saR9gDCBa2ZCPbkFmWRKLtGORFoiN-mLYAPTugidqZx40Ue4hav-jX178udYpVgSmun_rMHoN81t0Sb4xqMovs2i47-WLyzTwaGBK2CgLeHohGBvB9aWsFOV7F_YrZlcn7ptKo7RdNSrfBkiw7F6Sf8oIOz.426h9VZWDSVYDUIL9a1wDg",x={title:"Introduction",sidebar_position:1},j=void 0,p={id:"index",title:"Introduction",description:"Demo",source:"@site/docs/index.mdx",sourceDirName:".",slug:"/",permalink:"/call-widget/",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Introduction",sidebar_position:1},sidebar:"docSidebar",next:{title:"Development Notes",permalink:"/call-widget/developer/"}},g={},m=[{value:"V2 Documentation",id:"v2-documentation",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Parameters",id:"parameters",level:2},{value:"<code>buttonId</code>",id:"buttonid",level:3},{value:"<code>token</code>",id:"token",level:3},{value:"<code>callDetails</code>",id:"calldetails",level:3},{value:"<code>collectUserDetails</code>",id:"collectuserdetails",level:3},{value:"<code>survey</code>",id:"survey",level:3},{value:"<code>userVariables</code>",id:"uservariables",level:3},{value:"Events",id:"events",level:2},{value:"<code>beforecall</code>",id:"beforecall",level:3},{value:"Installation",id:"installation-1",level:2},{value:"NPM",id:"npm",level:3},{value:"CDN (jsDelivr)",id:"cdn-jsdelivr",level:3},{value:"Quick Start",id:"quick-start",level:2},{value:"Attributes Reference",id:"attributes-reference",level:2},{value:"Detailed Attribute Description",id:"detailed-attribute-description",level:2},{value:"Required Attributes",id:"required-attributes",level:3},{value:"<code>token</code>",id:"token-1",level:4},{value:"<code>destination</code>",id:"destination",level:4},{value:"Optional Attributes",id:"optional-attributes",level:3},{value:"<code>window-mode</code>",id:"window-mode",level:4},{value:"<code>log-level</code>",id:"log-level",level:4},{value:"<code>user-variables</code>",id:"user-variables",level:4},{value:"<code>audio-codec</code>",id:"audio-codec",level:4},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Basic Audio-Only Call Widget",id:"basic-audio-only-call-widget",level:3},{value:"Video Call with Transcription",id:"video-call-with-transcription",level:3},{value:"Call Center Agent Setup",id:"call-center-agent-setup",level:3},{value:"Notes and best practices",id:"notes-and-best-practices",level:2},{value:"Handling Incoming Calls",id:"handling-incoming-calls",level:2},{value:"Setting Up Incoming Calls",id:"setting-up-incoming-calls",level:3},{value:"Incoming Call Behavior",id:"incoming-call-behavior",level:3},{value:"Best Practices for Incoming Calls",id:"best-practices-for-incoming-calls",level:3},{value:"Demo",id:"demo",level:2}];function v(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d,{}),"\n",(0,t.jsx)(n.h2,{id:"demo",children:"Demo"}),"\n","\n",(0,t.jsx)(n.p,{children:"The buttons below are created by the react wrapper for the widget."}),"\n",(0,t.jsx)(n.p,{children:"The react wrapper is used as follows:"}),"\n","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:'<C2CWidget\n  destination="/private/demo-1"\n  supportsVideo={true}\n  supportsAudio={true}\n  token={token}\n>Call with Video</C2CWidget>\n'})}),"\n",(0,t.jsx)(h,{destination:"/private/demo-1",supportsVideo:!0,supportsAudio:!0,token:u,children:"Call with Video"}),"\n",(0,t.jsx)(h,{destination:"/private/demo-3",supportsVideo:!1,supportsAudio:!0,token:u,children:"Call only audio 2"}),"\n",(0,t.jsx)(h,{destination:"/private/demo-4",supportsVideo:!1,supportsAudio:!0,token:u,children:"Call only audio 3"})]})}function b(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(v,{...e})}):v(e)}}}]);